{% extends 'base.html.twig' %}

{% block title %}Hello BasketController!{% endblock %}

{% block body %}
<h2 class="m-3">Koszyki</h2>

    {% for basket in baskets  %}
        <div class="row card-body">
        <div class="col-3">
            <b>Identyfikator koszyka</b>
        </div>
        <div class="col-3">
            <b>Status</b>
        </div>
        <div class="col-3">
            <b>Wartość koszyka</b>
        </div>
        <div class="col-3">
            <b>Zarządzaj</b>
        </div>
            <div class="col-3">
                {{ basket.getId() }}
            </div>
            <div class="col-3">
                {{ basket.getStatus() }}
            </div>
            <div class="col-3">
                {{ basket.getBasketValue() }}
            </div>
            <div class="col-3">
                <a href="{{ path('pay', {id: basket.getId() }) }}" style="color:blue;">Zapłać</a>
            </div>
        <div class="col-12">
            <div class="row my-3">
                <div class="col-3">
                    <b>Nazwa produktu</b>
                </div>
                <div class="col-3">
                    <b>Ilość</b>
                </div>
                <div class="col-3">
                    <b>Cena za sztukę</b>
                </div>
                <div class="col-3">
                    <b>Zarządzaj</b>
                </div>
            </div>
            {% for basketLane in basket.getBasketLanes() %}
                <div class="row my-3">
                    <div class="col-3">
                        {{ basketLane.getProduct.getName() }}
                    </div>
                    <div class="col-3">
                        {{ basketLane.getQuantity() }}
                    </div>
                    <div class="col-3">
                        {{ basketLane.getPrice() }}
                    </div>
                    <div class="col-3">
                        <a href="{{ path('deleteBasketLane', {id: basketLane.getId() }) }}" style="color:blue;">Usuń Pozycje</a>
                    </div>
                </div>
            {% endfor %}
        </div>
        </div>
        <hr /><br/><br/>
    {% endfor %}

{% endblock %}
